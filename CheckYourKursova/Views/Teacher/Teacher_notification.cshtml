@model IEnumerable<Kursova.DAL.Entities.Student>
@{
    ViewData["Title"] = "Сповіщення";
}
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="index.html">
            <img class="logo-main scale-with-grid" src="img/logos/logo_1.png" data-retina="img/logos/logo_1.png" data-height="" width="160" height="160">
        </a>

        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav text-uppercase ml-auto">
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="@Url.Action("Teacher_home","Teacher")">Моя сторінка</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="@Url.Action("Teacher_Kursova","Teacher")">Список курсових</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link js-scroll-trigger" href="@Url.Action("Teacher_notification","Teacher")">Сповіщення</a>


                </li>
            </ul>
        </div>
    </div>
</nav>
<header class="masthead">
    <div class="container">
        <div class="intro-text">
            <div class="card card-2">
                <h2 class="text-dark">Ваші повідомлення:</h2>

                <div class="alert alert-warning alert-dismissible fade show" role="alert" id="notification" style="margin-left: 200px;margin-right: 200px; ">
                    <i class="fas fa-bullhorn"></i>
                    <strong>Новий документ!</strong> Студент додав новий документ.
                    <div id="log"> </div>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>

                <div class="alert alert-success alert-dismissible fade show" role="alert" style="margin-left: 200px;margin-right: 200px;">
                    <i class="fas fa-bullhorn"></i>
                    <strong>Новий коментарій!</strong> Додав новий коментарій Станько С.В.
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>


            </div>
        </div>
    </div>
</header>
@section scripts{

    <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var connection = new signalR.HubConnectionBuilder()
                .withUrl("/notifications")
                .build();

            
            connection.on("Send", function (message) {
               // alert(message);
                document.getElementById("notification").appendChild(message);

            });

            
            connection.start()
                .then(function () {
                   
                    connection.invoke("SendMessage");
                }, function (error) {
                    
                    alert(error);

                });
        });
    </script>
}